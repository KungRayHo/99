<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<script>
    // 列出下拉式選單的選項
    function printOption() {
        for (i = 0; i < 254; i = i + 16)
            document.writeln("<option>" + i + "</option>");
        document.writeln("<option selected>255</option>");
    }

    // 10 進位到 16 進位的轉換
    function dec2hex(dec) {
        mapping = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F"];
        var high = Math.floor(dec / 16);
        var low = dec - high * 16;
        return (mapping[high] + mapping[low]);
    }

    // 更改 RGB 字串及背景顏色
    function updateBgColor(theForm) {
        r = dec2hex(eval(theForm.red.value))
        g = dec2hex(eval(theForm.green.value))
        b = dec2hex(eval(theForm.blue.value))
        color = "#" + r + g + b
        theForm.rgbString.value = color
        document.bgColor = color
        conr = dec2hex(eval(255 - theForm.red.value))
        cong = dec2hex(eval(255 - theForm.green.value))
        conb = dec2hex(eval(255 - theForm.blue.value))
        concolor = "#" + conr + cong + conb
        document.fgColor = concolor
    }
</script>

<body>
    <h2 align=center>背景顏色調整網頁</h2>
    <hr>

    <form name="bgColorSelection">
        <table border=1 align=center>
            <tr>
                <th>
                    <font color="#FF0000">RED</font><br>
                    <select name="red" size=10 onChange="updateBgColor(this.form)">
		<script>printOption();</script>
	</select>

                    <th>
                        <font color="#00FF00">GREEN</font><br>
                        <select name="green" size=10 onChange="updateBgColor(this.form)">
		<script>printOption();</script>
	</select>

                        <th>
                            <font color="#0000FF">BLUE</font><br>
                            <select name="blue" size=10 onChange="updateBgColor(this.form)">
		<script>printOption();</script>
	</select>
        </table>

        <p align="center">
            <b>RGB字串：</b> <input type="text" size=7 name="rgbString">
    </form>

    <script>
        updateBgColor(document.bgColorSelection)
    </script>

</body>

</html>